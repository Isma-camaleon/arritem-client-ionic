<ion-header>
  <ion-toolbar>
    <ion-button fill="clear" (click)="previous()" slot="start">
      <ion-icon slot="icon-only" name="md-arrow-back"></ion-icon>
    </ion-button>
    <ion-title>Reservar</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="paso == 1">
  <ion-slides pager="true" [options]="slideOpts">
    <ion-slide>
      <ion-img src="https://picsum.photos/900/500?random&t={{ departamento.id + 3 }}"></ion-img>
    </ion-slide>
    <ion-slide>
      <ion-img src="https://picsum.photos/900/500?random&t={{ departamento.id + 1 }}"></ion-img>
    </ion-slide>
    <ion-slide>
      <ion-img src="https://picsum.photos/900/500?random&t={{ departamento.id + 5 }}"></ion-img>
    </ion-slide>
  </ion-slides>
  <form>
    <div class="ion-padding">
      <ion-text class="ion-text-left" color="medium">
        <h5 color="primary">{{ departamento.direccion }}</h5>
      </ion-text>

      <div class="ion-text-left ion-margin-top ">Tarifa diaria: ${{ departamento.tarifa }}</div>
    </div>
  </form>
</ion-content>

<ion-content *ngIf="paso == 2">
  <form [formGroup]="formulario">
    <div class="ion-padding">
      <ion-text class="ion-text-left" color="medium">
        <h5 color="primary">{{ departamento.direccion }}</h5>
      </ion-text>

      <ion-item>
        <ion-label position="floating"
          >Fecha Inicio
          <span style="color: red" *ngIf="formulario.controls['fechaInicio'].invalid">
            *
          </span>
        </ion-label>

        <ion-datetime
          displayFormat="D MMM YYYY H:mm"
          (ionChange)="validarFecha($event.target.value)"
          formControlName="fechaInicio"
          name="fechaInicio"
        ></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label position="floating"
          >Fecha Termino
          <span style="color: red" *ngIf="formulario.controls['fechaTermino'].invalid">
            *
          </span>
        </ion-label>

        <ion-datetime
          displayFormat="D MMM YYYY H:mm"
          (ionChange)="validarFecha($event.target.value)"
          formControlName="fechaTermino"
          name="fechaTermino"
        ></ion-datetime>
      </ion-item>
      <ion-item>
        <ion-label>Cantidad de d√≠as: {{ cantidadDias }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>Tarifa diaria: ${{ departamento.tarifa }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-label>Total Reserva: ${{ reserva.total }}</ion-label>
      </ion-item>
    </div>
  </form>
</ion-content>

<ion-footer no-border *ngIf="paso == 1">
  <ion-toolbar position="bottom">
    <ion-button position="bottom" (click)="next()" expand="full" class="ion-margin-top">
      <span>Continuar con la reserva</span>
    </ion-button>
  </ion-toolbar>
</ion-footer>

<ion-footer no-border *ngIf="paso == 2">
  <ion-toolbar position="bottom">
    <ion-button (click)="reservar()" expand="full" class="ion-margin-top">
      <span>Reservar</span>
    </ion-button>
  </ion-toolbar>
</ion-footer>
